{
  "permissions": {
    "allow": [
      "Bash(python:*)",
      "Bash(taskkill:*)",
      "Bash(dir:*)",
      "Bash(ls:*)",
      "Bash(find:*)",
      "Bash(cd:*)",
      "Bash(sqlite3:*)",
      "Bash(powershell -Command:*)",
      "Bash(pip install:*)",
      "Bash(start \"\" \"C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\data\\\\Devis_fournisseur\\\\Dispano\\\\M3248000120388.PDF\")",
      "Bash(start \"\" \"C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\data\\\\Devis_fournisseur\\\\Dispano\\\\M3248000121110.PDF\")",
      "Bash(tesseract:*)",
      "Bash(if [ -f \"C:\\\\Users\\\\tt\\\\AppData\\\\Local\\\\Temp\\\\poppler.zip\" ])",
      "Bash(else echo \"Not downloaded yet\")",
      "Bash(fi)",
      "Bash(tee:*)",
      "Bash(del:*)",
      "Bash(git init:*)",
      "Bash(git config:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(gh issue create:*)",
      "Bash(gh issue view:*)",
      "Bash(data\" \\\\\n            src/main.py\n\n# CrÃ©er installateur avec Inno Setup\niscc installer_script.iss\n\\\\`\\\\`\\\\`\n\n### Option 2 : cx_Freeze\n**Avantages :**\n- Alternative Ã  PyInstaller\n- Bonne compatibilitÃ© Tkinter\n\n### Option 3 : py2exe \\(Windows only\\)\n**Avantages :**\n- SpÃ©cialisÃ© Windows\n- LÃ©ger\n\n## ðŸ”„ SystÃ¨me de mise Ã  jour proposÃ©\n\n### Architecture :\n1. **Fichier version.json** sur GitHub Releases\n2. **Module updater.py** dans l''application\n3. **VÃ©rification au dÃ©marrage** \\(une fois par jour maximum\\)\n4. **Interface graphique** pour notifier l''utilisateur\n\n### Workflow :\n\\\\`\\\\`\\\\`\nApp dÃ©marrage â†’ VÃ©rifier version distante â†’ Comparer avec version locale\n                                          â†“\n                                  Nouvelle version ?\n                                  â†“              â†“\n                                OUI            NON\n                                  â†“              â†“\n                     Notifier utilisateur    Continuer\n                                  â†“\n                     TÃ©lÃ©charger .exe\n                                  â†“\n                     Installer et redÃ©marrer\n\\\\`\\\\`\\\\`\n\n## ðŸ’¡ Notes additionnelles\n\n### ConsidÃ©rations importantes :\n1. **Taille de l''exe** : PyInstaller peut crÃ©er des fichiers volumineux \\(50-100 MB\\)\n2. **Antivirus** : Les exe empaquetÃ©s sont parfois dÃ©tectÃ©s comme faux positifs\n3. **Permissions** : Installation dans Program Files nÃ©cessite droits administrateur\n4. **DonnÃ©es utilisateur** : SÃ©parer donnÃ©es app et donnÃ©es utilisateur \\(AppData\\)\n\n### Ressources :\n- [PyInstaller Documentation]\\(https://pyinstaller.org/\\)\n- [Inno Setup]\\(https://jrsoftware.org/isinfo.php\\)\n- [Auto-update examples]\\(https://github.com/topics/auto-update\\)\n\n### Structure post-installation :\n\\\\`\\\\`\\\\`\nC:\\\\Program Files\\\\DestriChiffrage\\\\\nâ”œâ”€â”€ DestriChiffrage.exe\nâ”œâ”€â”€ assets\\\\\nâ”‚   â”œâ”€â”€ icon.ico\nâ”‚   â”œâ”€â”€ pdf.png\nâ”‚   â””â”€â”€ logo.png\nâ””â”€â”€ _internal\\\\          # DÃ©pendances PyInstaller\n\nC:\\\\Users\\\\%USERNAME%\\\\AppData\\\\Local\\\\DestriChiffrage\\\\\nâ”œâ”€â”€ data\\\\\nâ”‚   â”œâ”€â”€ catalogue.db\nâ”‚   â”œâ”€â”€ Fiches_techniques\\\\\nâ”‚   â””â”€â”€ Devis_fournisseur\\\\\nâ””â”€â”€ config.ini\n\\\\`\\\\`\\\\`\nISSUE_EOF\n\\)\" --label \"enhancement\")",
      "Bash(wc:*)",
      "Bash(pip freeze:*)",
      "Bash(pyinstaller:*)",
      "Bash(start DestriChiffrage.exe)",
      "Bash(if [ -f \"C:/Program Files \\(x86\\)/Inno Setup 6/ISCC.exe\" ])",
      "Bash(then echo \"Inno Setup est installe\")",
      "Bash(else echo \"Inno Setup n''est PAS installe\")",
      "Bash(start python src/main.py)",
      "Bash(\"C:/Program Files \\(x86\\)/Inno Setup 6/ISCC.exe\" \"C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\installer.iss\")",
      "Bash(else echo \"Inno Setup n''est PAS installe - Il faut le telecharger\")",
      "Bash(\"C:/Program Files \\(x86\\)/Inno Setup 6/ISCC.exe\" installer.iss)",
      "Bash(\"C:/Program Files \\(x86\\)/Inno Setup 6/ISCC.exe\" installer_simple.iss)",
      "Bash(gh:*)",
      "Bash(build.bat:*)",
      "Bash(cmd /c build.bat)",
      "Bash(\"C:\\\\Program Files \\(x86\\)\\\\Inno Setup 6\\\\ISCC.exe\" installer_simple.iss)",
      "Bash(\"C:\\\\Program Files \\(x86\\)\\\\Inno Setup 6\\\\ISCC.exe\" \"C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\installer_simple.iss\")",
      "Bash(where:*)",
      "Bash(tasklist:*)",
      "Bash(python -m py_compile:*)",
      "Bash(gh issue edit:*)",
      "Bash(pip show:*)",
      "Bash(gh issue comment 11 --body \"$\\(cat <<''EOF''\n## ðŸ“ ComplÃ©ment - Import de la description\n\nLe champ **description** doit Ã©galement pouvoir Ãªtre importÃ© depuis le fichier DPGF CSV.\n\n### Modification du format d''import DPGF\n\nAjouter la colonne `DESCRIPTION` dans le fichier CSV d''import :\n\n```csv\nCODE;NIVEAU;DESIGNATION;DESCRIPTION;CATEGORIE;LARGEUR_MM;HAUTEUR_MM;CARACTERISTIQUES;UNITE;QUANTITE;LOCALISATION;NOTES\n1.1.1;4;Bloc-porte EI30;Bloc-porte coupe-feu 30 minutes, huisserie mÃ©tallique, finition laquÃ©e blanc;COUPE-FEU;830;2040;EI30;U;5;Couloir RDC;\n```\n\n### TÃ¢ches supplÃ©mentaires\n\n- [ ] Ajouter `DESCRIPTION` dans le mapping CSV de `import_dpgf_csv\\(\\)` \\(database.py\\)\n- [ ] Mettre Ã  jour `create_dpgf_template\\(\\)` pour inclure la colonne DESCRIPTION\n- [ ] Documenter la nouvelle colonne dans le README\nEOF\n\\)\")",
      "Bash(gh issue comment:*)",
      "Bash(gh issue close 12 --comment \"$\\(cat <<''EOF''\n## Corrections apportees \\(v1.3.1\\)\n\nToutes les fenetres sans `minsize` ont ete corrigees :\n\n### Fichiers modifies\n\n| Fichier | Classe | Avant | Apres |\n|---------|--------|-------|-------|\n| `dialogs.py` | AboutDialog | 480x440, pas de minsize | + minsize\\(460, 420\\) |\n| `update_dialog.py` | UpdateDialog | 500x500, pas de minsize | + minsize\\(480, 480\\) |\n| `update_dialog.py` | DownloadProgressDialog | 450x200, pas de minsize | + minsize\\(430, 180\\) |\n| `cart_export_dialog.py` | CartExportDialog | 550x450, pas de minsize | + minsize\\(530, 430\\) |\n| `cart_panel.py` | CartPanel | 700x500, pas de minsize | + minsize\\(650, 450\\) |\n| `product_search_dialog.py` | Dialogue quantite | 300x150 | 380x200 + minsize\\(350, 180\\) + bouton Annuler |\n| `main_window.py` | Dialogue vider BDD | 450x280, pas de minsize | + minsize\\(430, 260\\) |\n\n### Autres modifications\n\n- **README.md** : Ajout section \"Conventions UI\" avec tableau des tailles minimales\n- **version.py** : Mise a jour vers 1.3.1\n\n### Executable\n\nNouvel executable genere dans `dist/DestriChiffrage.exe`\nEOF\n\\)\")",
      "Bash(powershell -Command \"Stop-Process -Name DestriChiffrage -Force -ErrorAction SilentlyContinue; Start-Sleep -Seconds 2; Remove-Item ''C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\dist\\\\DestriChiffrage.exe'' -Force -ErrorAction SilentlyContinue\")",
      "Bash(gh issue close 13 --comment \"$\\(cat <<''EOF''\n## Correction appliquee \\(v1.3.2\\)\n\n### Modifications dans `src/database.py`\n\n1. **Fonction `create_import_template\\(\\)`** \\(ligne 747-757\\) :\n   - Ajout de la colonne `DESCRIPTION` dans les headers \\(apres DESIGNATION\\)\n   - Ajout d''exemples de description dans les lignes d''exemple :\n     - \"Porte interieure pleine en bois massif, finition laquee blanc\"\n     - \"Bloc-porte coupe-feu EI30, ame pleine, huisserie metal\"\n     - \"Porte acoustique haute performance, affaiblissement 35dB\"\n\n2. **Fonction `import_csv\\(\\)`** \\(ligne 773-789\\) :\n   - Ajout du mapping `''DESCRIPTION'': ''description''`\n\n### Nouveau format du template\n\n```csv\nCATEGORIE;SOUS-CATEGORIE;SOUS-CATEGORIE 2;SOUS-CATEGORIE 3;DESIGNATION;DESCRIPTION;HAUTEUR;LARGEUR;PRIX_UNITAIRE_HT;ARTICLE;FOURNISSEUR;CHANTIER;FICHE_TECHNIQUE;FICHIER_PDF\n```\n\n### Version\n\n- README.md : 1.3.1 -> 1.3.2\n- version.py : 1.3.1 -> 1.3.2\n\n### Executable\n\nNouvel executable genere dans `dist/DestriChiffrage.exe`\nEOF\n\\)\")",
      "Bash(powershell -Command \"Get-Process -Name DestriChiffrage -ErrorAction SilentlyContinue | Stop-Process -Force -ErrorAction SilentlyContinue; Start-Sleep -Seconds 1; Remove-Item ''C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\dist\\\\DestriChiffrage.exe'' -Force -ErrorAction SilentlyContinue\")",
      "Bash(gh release create v1.3.4 --title \"Version 1.3.4\" --notes \"$\\(cat <<''EOF''\n# Version 1.3.4\n\n## NouveautÃ©s\n\n- **Import depuis catalogue** : Nouveau bouton dans la vue Chiffrage DPGF pour crÃ©er un article directement depuis un produit du catalogue avec liaison automatique\n- **Import DPGF dans vue chiffrage** : Bouton pour importer un fichier DPGF CSV dans le chantier courant\n\n## ðŸ“¦ Installation\n\n1. TÃ©lÃ©charger DestriChiffrage-Setup-1.3.4.exe\n2. Double-cliquer \\(accepter les droits administrateur\\)\n3. Suivre l''assistant d''installation\n4. L''application est installÃ©e !\n\n## ðŸ”„ Mise Ã  Jour\n\nL''auto-updater dÃ©tectera automatiquement cette version depuis l''application.\n\n---\n\n**Taille**: ~27 MB\n**Plateforme**: Windows 10/11 64-bit\n**Droits admin**: Requis pour l''installation\nEOF\n\\)\")",
      "Bash(gh release upload:*)",
      "Bash(gh release view:*)",
      "Bash(powershell:*)",
      "Bash(python -m PyInstaller:*)",
      "Bash(dir \"C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\dist\\\\DestriChiffrage.exe\")",
      "Bash(gh release create v1.3.5 --title \"Version 1.3.5\" --notes \"$\\(cat <<''EOF''\n# Version 1.3.5\n\n## ðŸ“¦ Installation\n\n1. TÃ©lÃ©charger DestriChiffrage-Setup-1.3.5.exe\n2. Double-cliquer \\(accepter les droits administrateur\\)\n3. Suivre l''assistant d''installation\n4. L''application est installÃ©e !\n\n## ðŸ”„ Mise Ã  Jour\n\nL''auto-updater dÃ©tectera automatiquement cette version depuis l''application.\n\n---\n\n**Taille**: ~27 MB\n**Plateforme**: Windows 10/11 64-bit\n**Droits admin**: Requis pour l''installation\nEOF\n\\)\")",
      "Bash(gh release:*)",
      "Bash(findstr:*)",
      "Bash(dir \"C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\installer_output\\\\DestriChiffrage-Setup-1.3.5.exe\")",
      "Bash(powershell -Command \"\\(Get-Item ''C:\\\\Users\\\\tt\\\\Documents\\\\Developpement logiciel\\\\DestriChiffrage\\\\dist\\\\DestriChiffrage.exe''\\).Length / 1MB\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nv1.3.5\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Skill(release)",
      "Bash(gh release create v1.4.0 --title \"Version 1.4.0\" --notes \"$\\(cat <<''EOF''\n# Version 1.4.0\n\n## ðŸ†• NouveautÃ©s\n\n### Renommage \"Panier\" â†’ \"Devis rapide\"\n- Le bouton \"ðŸ›’ Panier\" devient \"ðŸ“‹ Devis rapide\"\n- Tous les textes de l''interface ont Ã©tÃ© mis Ã  jour\n- La colonne \"Panier\" devient \"Devis\" dans le tableau\n\n### Export Odoo amÃ©liorÃ©\n- La description est maintenant sur la mÃªme ligne que l''article\n- Si un champ \"PrÃ©sentation\" est renseignÃ©, il est exportÃ© sur une seconde ligne\n\n## ðŸ“¦ Installation\n\n1. TÃ©lÃ©charger DestriChiffrage-Setup-1.4.0.exe\n2. Double-cliquer \\(accepter les droits administrateur\\)\n3. Suivre l''assistant d''installation\n4. L''application est installÃ©e !\n\n## ðŸ”„ Mise Ã  Jour\n\nL''auto-updater dÃ©tectera automatiquement cette version depuis l''application.\n\n---\n\n**Taille**: ~27 MB\n**Plateforme**: Windows 10/11 64-bit\n**Droits admin**: Requis pour l''installation\nEOF\n\\)\")",
      "Bash(timeout /t 2 /nobreak)",
      "Bash(cmd /c \"taskkill /IM DestriChiffrage.exe /F\")",
      "Skill(create-github-issue)"
    ]
  }
}
